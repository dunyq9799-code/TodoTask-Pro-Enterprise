<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test System | TodoTask Pro Enterprise</title>
<link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
:root {
  --primary:#6a4cff;
  --secondary:#8e7dff;
  --bg-dark:#0a0717;
  --bg-light:#f9f8ff;
  --card-dark:#1a1630;
  --card-light:#ffffff;
  --text-dark:#222;
  --text-light:#f2f2f2;
}

/* üåå Base */
body {
  font-family:'Sarabun',sans-serif;
  margin:0;
  background:linear-gradient(135deg,#1a1133,#0a0717);
  color:var(--text-light);
  min-height:100vh;
  transition:.4s;
}
body.light {
  background:linear-gradient(135deg,#f3f1ff,#fff);
  color:var(--text-dark);
}

/* Header */
.header {
  display:flex;
  justify-content:center;
  align-items:center;
  position:relative;
  padding:20px 0;
  background:rgba(255,255,255,0.05);
  backdrop-filter:blur(10px);
  box-shadow:0 2px 10px rgba(0,0,0,.3);
}
body.light .header {background:rgba(255,255,255,0.7);box-shadow:0 2px 10px rgba(0,0,0,.1);}
.header h2 {margin:0;}
.back-btn {
  position:absolute;
  left:20px;
  top:50%;
  transform:translateY(-50%);
  background:rgba(255,255,255,0.15);
  border:none;
  border-radius:50%;
  color:white;
  font-size:20px;
  width:45px;
  height:45px;
  cursor:pointer;
  backdrop-filter:blur(10px);
  transition:all .3s;
}
.back-btn:hover {transform:translateY(-50%) scale(1.1);}
body.light .back-btn {color:#2b1f5f;background:rgba(255,255,255,0.6);}

/* Container */
.container {
  max-width:900px;
  margin:40px auto;
  padding:30px;
  background:rgba(255,255,255,0.08);
  border-radius:15px;
  backdrop-filter:blur(12px);
  box-shadow:0 0 20px rgba(120,80,255,0.3);
}
body.light .container {background:rgba(255,255,255,0.8);box-shadow:0 0 15px rgba(0,0,0,0.1);}

/* Toolbar */
.toolbar {
  display:flex;
  justify-content:center;
  align-items:center;
  flex-wrap:wrap;
  gap:10px;
  margin-bottom:25px;
}
button,select {
  padding:10px 16px;
  border:none;
  border-radius:10px;
  cursor:pointer;
  font-weight:600;
  transition:.3s;
}
button {
  background:linear-gradient(135deg,#6a4cff,#9b7fff);
  color:white;
}
button:hover {transform:scale(1.05);}
select {
  background:rgba(255,255,255,0.1);
  color:white;
  backdrop-filter:blur(8px);
}
body.light select {
  background:rgba(255,255,255,0.9);
  color:#222;
}

/* Tasks */
.task-board {
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:15px;
}
.task {
  background:rgba(255,255,255,0.1);
  border-left:4px solid #8e7dff;
  border-radius:10px;
  padding:15px;
  width:260px;
  transition:.3s;
  backdrop-filter:blur(8px);
}
.task:hover {transform:scale(1.05);}
body.light .task {background:rgba(255,255,255,0.8);}
.task.completed {opacity:0.6;text-decoration:line-through;}

/* Chart */
.chart-box {
  background:rgba(255,255,255,0.08);
  border-radius:10px;
  padding:20px;
  margin-top:30px;
  backdrop-filter:blur(8px);
  text-align:center;
}
body.light .chart-box {background:rgba(255,255,255,0.8);}
canvas {width:100%;max-height:300px;}

/* Floating */
.fab {
  position:fixed;
  bottom:25px;
  right:25px;
  background:rgba(255,255,255,0.1);
  border:none;
  color:white;
  font-size:24px;
  width:60px;
  height:60px;
  border-radius:50%;
  cursor:pointer;
  backdrop-filter:blur(10px);
  box-shadow:0 0 15px rgba(100,80,255,0.4);
  transition:.3s;
}
.fab:hover {transform:scale(1.1);}
body.light .fab {color:#2b1f5f;background:rgba(255,255,255,0.8);}

/* Footer */
footer {text-align:center;margin-top:40px;color:#888;font-size:14px;}
</style>
</head>

<body>
  <div class="header">
    <button class="back-btn" onclick="goBack()">‚¨Ö</button>
    <h2>üß™ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á / ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö</h2>
  </div>

  <div class="container">
    <div class="toolbar">
      <select id="roleSelect" onchange="changeRole()">
        <option value="admin">üëë Admin</option>
        <option value="leader">üë®‚Äçüíº ‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡∏°</option>
        <option value="staff">üë∑‚Äç‚ôÇÔ∏è ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</option>
        <option value="viewer">üë§ ‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°</option>
      </select>
      <button onclick="addTask()">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô</button>
      <button onclick="toggleRandomTask()">‚úÖ ‡∏™‡∏∏‡πà‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</button>
      <button onclick="resetDemo()">‚ôªÔ∏è ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
      <button onclick="toggleTheme()">üåó ‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô</button>
    </div>

    <div class="task-board" id="taskBoard"></div>

    <div class="chart-box">
      <h3>üìä ‡∏Å‡∏£‡∏≤‡∏ü‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</h3>
      <canvas id="progressChart"></canvas>
    </div>
  </div>

  <button class="fab" onclick="resetDemo()">‚ôªÔ∏è</button>

  <footer>¬© 2025 TodoTask Pro Enterprise ‚Äî ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</footer>

<script>
let role="admin";
let demoTasks=[
  {id:1,text:"‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö API",completed:false,owner:"‡∏ó‡∏µ‡∏° A"},
  {id:2,text:"‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î",completed:true,owner:"‡∏ó‡∏µ‡∏° B"},
  {id:3,text:"‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô",completed:false,owner:"‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á"}
];

function renderTasks(){
  const board=document.getElementById("taskBoard");
  board.innerHTML="";
  demoTasks.forEach(task=>{
    const div=document.createElement("div");
    div.className="task"+(task.completed?" completed":"");
    div.innerHTML=`
      <p><b>${task.text}</b></p>
      <small>${task.owner}</small><br>
      ${role!=="viewer" ? `<button onclick="toggleTask(${task.id})">${task.completed?"‚Ü©Ô∏è ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö":"‚úîÔ∏è ‡πÄ‡∏™‡∏£‡πá‡∏à"}</button>`:""}
      ${role==="admin" ? `<button onclick="deleteTask(${task.id})">üóëÔ∏è ‡∏•‡∏ö</button>`:""}
    `;
    board.appendChild(div);
  });
  updateCharts();
}

function changeRole(){
  role=document.getElementById("roleSelect").value;
  renderTasks();
}

function addTask(){
  if(role==="viewer")return alert("‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ");
  const text=prompt("‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà:");
  if(!text)return;
  demoTasks.push({id:Date.now(),text,completed:false,owner:role});
  renderTasks();
}

function toggleTask(id){
  const t=demoTasks.find(x=>x.id===id);
  if(t)t.completed=!t.completed;
  renderTasks();
}

function deleteTask(id){
  demoTasks=demoTasks.filter(t=>t.id!==id);
  renderTasks();
}

function toggleRandomTask(){
  const i=Math.floor(Math.random()*demoTasks.length);
  demoTasks[i].completed=!demoTasks[i].completed;
  renderTasks();
}

function resetDemo(){
  demoTasks=[
    {id:1,text:"‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö API",completed:false,owner:"‡∏ó‡∏µ‡∏° A"},
    {id:2,text:"‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î",completed:true,owner:"‡∏ó‡∏µ‡∏° B"},
    {id:3,text:"‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô",completed:false,owner:"‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á"}
  ];
  renderTasks();
}

function goBack(){window.history.back();}

function updateCharts(){
  const done=demoTasks.filter(t=>t.completed).length;
  const total=demoTasks.length;
  if(window.progressChart)window.progressChart.destroy();
  window.progressChart=new Chart(document.getElementById("progressChart"),{
    type:"doughnut",
    data:{
      labels:["‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß","‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à"],
      datasets:[{data:[done,total-done],backgroundColor:["#8e7dff","#ccc"]}]
    },
    options:{cutout:"70%",plugins:{legend:{position:"bottom"}}}
  });
}

function toggleTheme(){
  document.body.classList.toggle("light");
  localStorage.setItem("theme",document.body.classList.contains("light")?"light":"dark");
}
if(localStorage.getItem("theme")==="light")document.body.classList.add("light");

renderTasks();
</script>
</body>
</html>
